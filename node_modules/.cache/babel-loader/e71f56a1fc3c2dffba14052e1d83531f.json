{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue?vue&type=template&id=a319b008","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue","mtime":1651230815034},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlRWxlbWVudEJsb2NrIGFzIF9jcmVhdGVFbGVtZW50QmxvY2ssIGNyZWF0ZUNvbW1lbnRWTm9kZSBhcyBfY3JlYXRlQ29tbWVudFZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIGNyZWF0ZUVsZW1lbnRWTm9kZSBhcyBfY3JlYXRlRWxlbWVudFZOb2RlIH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZ3JpZCBncmlkLWNvbHMtMSBnYXAtNCBzbTpncmlkLWNvbHMtMyBtYi00Igp9Owp2YXIgX2hvaXN0ZWRfMiA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJjb2wtc3Bhbi0xIHNtOmNvbC1zcGFuLTMgZ2FwLTQgZ3JpZCBncmlkLWNvbHMtNCIKfTsKdmFyIF9ob2lzdGVkXzMgPSB7CiAga2V5OiAxLAogIGNsYXNzOiAibXQtNCBweS0yIgp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfY29tcG9uZW50X2F0X2lucHV0ID0gX3Jlc29sdmVDb21wb25lbnQoImF0LWlucHV0Iik7CgogIHZhciBfY29tcG9uZW50X0F0U2VsZWN0ID0gX3Jlc29sdmVDb21wb25lbnQoIkF0U2VsZWN0Iik7CgogIHZhciBfY29tcG9uZW50X2F0X3NlbGVjdCA9IF9yZXNvbHZlQ29tcG9uZW50KCJhdC1zZWxlY3QiKTsKCiAgdmFyIF9jb21wb25lbnRfYXRfc2tlbGV0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXQtc2tlbGV0b24iKTsKCiAgcmV0dXJuICEkc2V0dXAuYXBwTG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFshJHNldHVwLmFwcExvYWRpbmcgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYXRfaW5wdXQsIHsKICAgIHBsYWNlaG9sZGVyOiAi0J/QvtC40YHQuiDQv9C+INCk0JjQniIsCiAgICBpY29uQWZ0ZXI6ICJzZWFyY2giLAogICAgY2xhc3M6ICJtZDpjb2wtc3Bhbi0yIGNvbC1zcGFuLTQiLAogICAgbW9kZWxWYWx1ZTogJHNldHVwLnF1ZXJ5LnNlYXJjaCwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAucXVlcnkuc2VhcmNoID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWxWYWx1ZSJdKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfQXRTZWxlY3QsIHsKICAgIHBsYWNlaG9sZGVyOiAi0JLRi9Cx0LXRgNC40YLQtSDRgdGC0LDRgtGD0YEg0LDQutGC0LjQstC90L7RgdGC0LgiLAogICAgY2xhc3M6ICJtZDotbXQtMSBtZDpjb2wtc3Bhbi0yIGNvbC1zcGFuLTQiLAogICAgb3B0aW9uczogW3sKICAgICAgdGl0bGU6ICfQktGB0LUnLAogICAgICB2YWx1ZTogMAogICAgfSwgewogICAgICB0aXRsZTogJ9CSINC+0YTQuNGB0LUnLAogICAgICB2YWx1ZTogMQogICAgfSwgewogICAgICB0aXRsZTogJ9Cd0LUg0LIg0L7RhNC40YHQtScsCiAgICAgIHZhbHVlOiA4CiAgICB9LCB7CiAgICAgIHRpdGxlOiAn0KDQsNCx0L7RgtCw0LXRgiDRg9C00LDQu9GR0L3QvdC+JywKICAgICAgdmFsdWU6IDYKICAgIH1dLAogICAgbW9kZWxWYWx1ZTogJHNldHVwLnF1ZXJ5LnN0YXR1cywKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzFdIHx8IChfY2FjaGVbMV0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAucXVlcnkuc3RhdHVzID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWxWYWx1ZSJdKV0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYXRfc2VsZWN0LCB7CiAgICBvcHRpb25zOiAkc2V0dXAuc2VsZWN0T3B0aW9ucygn0JLRgdC1INC/0L7Qt9C40YbQuNC4JywgJHNldHVwLnBvc2l0aW9ucyksCiAgICBtb2RlbFZhbHVlOiAkc2V0dXAucXVlcnkucG9zaXRpb25faWQsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVsyXSB8fCAoX2NhY2hlWzJdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLnF1ZXJ5LnBvc2l0aW9uX2lkID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib3B0aW9ucyIsICJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hdF9zZWxlY3QsIHsKICAgIG9wdGlvbnM6ICRzZXR1cC5zZWxlY3RPcHRpb25zKCfQktGB0LUg0L7RgtC00LXQu9GLJywgJHNldHVwLmRlcGFydG1lbnRzKSwKICAgIG1vZGVsVmFsdWU6ICRzZXR1cC5kZXBhcnRtZW50SWRRdWVyeS5kZXBhcnRtZW50X2lkLAogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbM10gfHwgKF9jYWNoZVszXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5kZXBhcnRtZW50SWRRdWVyeS5kZXBhcnRtZW50X2lkID0gJGV2ZW50OwogICAgfSkKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsib3B0aW9ucyIsICJtb2RlbFZhbHVlIl0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hdF9zZWxlY3QsIHsKICAgIG9wdGlvbnM6ICRzZXR1cC5zZWxlY3RPcHRpb25zKCfQktGB0LUg0LrQvtC80LDQvdC00YsnLCAkc2V0dXAudGVhbXMpLAogICAgbW9kZWxWYWx1ZTogJHNldHVwLnF1ZXJ5LnRlYW1faWQsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVs0XSB8fCAoX2NhY2hlWzRdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gJHNldHVwLnF1ZXJ5LnRlYW1faWQgPSAkZXZlbnQ7CiAgICB9KQogIH0sIG51bGwsIDgKICAvKiBQUk9QUyAqLwogICwgWyJvcHRpb25zIiwgIm1vZGVsVmFsdWUiXSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8zLCBbKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUVsZW1lbnRCbG9jayhfRnJhZ21lbnQsIG51bGwsIF9yZW5kZXJMaXN0KDMsIGZ1bmN0aW9uIChpKSB7CiAgICByZXR1cm4gX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgewogICAgICBjbGFzczogInAtNCIsCiAgICAgIGtleTogaQogICAgfSwgW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2F0X3NrZWxldG9uLCB7CiAgICAgIHR5cGU6ICJyb3ciCiAgICB9KV0pOwogIH0pLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICkpXSkpOwp9"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue"],"names":[],"mappings":";;;;;AAC0B,EAAA,KAAK,EAAC;;;;AACJ,EAAA,KAAK,EAAC;;;;AAiC3B,EAAA,KAAK,EAAC;;;;;;;;;;;UAlCC,MAAA,CAAA,U,kBAAZ,mBAAA,CAiCM,KAjCN,EAAA,UAAA,EAiCM,C,CAhCQ,MAAA,CAAA,U,kBAAZ,mBAAA,CAyBM,KAzBN,EAAA,UAAA,EAyBM,CAxBJ,YAAA,CAAkH,mBAAlH,EAAkH;AAAxG,IAAA,WAAW,EAAC,cAA4F;AAA7E,IAAA,SAAS,EAAC,QAAmE;AAA1D,IAAA,KAAK,EAAC,0BAAoD;gBAAhB,MAAA,CAAA,KAAA,CAAM,MAAU;;aAAhB,MAAA,CAAA,KAAA,CAAM,MAAN,GAAY,M;;AAAI,GAAlH,E,IAAA,E;;AAAA,I,cAAA,CAwBI,EAvBJ,YAAA,CAsBY,mBAtBZ,EAsBY;AArBV,IAAA,WAAW,EAAC,4BAqBF;AApBV,IAAA,KAAK,EAAC,mCAoBI;AAnBT,IAAA,OAAO,EAAE,C;;;KAAA,E;;;KAAA,E;;;KAAA,E;;;KAAA,CAmBA;gBADD,MAAA,CAAA,KAAA,CAAM,MACL;;aADD,MAAA,CAAA,KAAA,CAAM,MAAN,GAAY,M;;AACX,GAtBZ,E,IAAA,E;;AAAA,I,cAAA,CAuBI,CAzBN,C,qCAgCI,EANJ,YAAA,CAAuG,oBAAvG,EAAuG;AAA3F,IAAA,OAAO,EAAE,MAAA,CAAA,aAAA,CAAa,aAAb,EAA6B,MAAA,CAAA,SAA7B,CAAkF;gBAAhC,MAAA,CAAA,KAAA,CAAM,WAA0B;;aAAhC,MAAA,CAAA,KAAA,CAAM,WAAN,GAAiB,M;;AAAe,GAAvG,E,IAAA,E;;AAAA,I,yBAAA,CAMI,EALJ,YAAA,CAGa,oBAHb,EAGa;AAFV,IAAA,OAAO,EAAE,MAAA,CAAA,aAAA,CAAa,YAAb,EAA4B,MAAA,CAAA,WAA5B,CAEC;gBADF,MAAA,CAAA,iBAAA,CAAkB,aAChB;;aADF,MAAA,CAAA,iBAAA,CAAkB,aAAlB,GAA+B,M;;AAC7B,GAHb,E,IAAA,E;;AAAA,I,yBAAA,CAKI,EADJ,YAAA,CAA+F,oBAA/F,EAA+F;AAAnF,IAAA,OAAO,EAAE,MAAA,CAAA,aAAA,CAAa,aAAb,EAA6B,MAAA,CAAA,KAA7B,CAA0E;gBAA5B,MAAA,CAAA,KAAA,CAAM,OAAsB;;aAA5B,MAAA,CAAA,KAAA,CAAM,OAAN,GAAa,M;;AAAe,GAA/F,E,IAAA,E;;AAAA,I,yBAAA,CACI,CAjCN,C,mBAkCA,mBAAA,CAIM,KAJN,EAAA,UAAA,EAIM,E,cAHJ,mBAAA,CAEM,SAFN,EAEM,IAFN,EAEM,WAAA,CAFuB,CAEvB,EAFwB,UAAN,CAAM,EAAL;WAAzB,mBAAA,CAEM,KAFN,EAEM;AAFD,MAAA,KAAK,EAAC,KAEL;AAF2B,MAAA,GAAG,EAAE;AAEhC,KAFN,E,CACE,YAAA,CAAsC,sBAAtC,EAAsC;AAAzB,MAAA,IAAI,EAAC;AAAoB,KAAtC,C,CADF,C;GAEM,CAFN,E;;AAAA,GAGI,EAJN,C","sourcesContent":["<template>\n  <div v-if=\"!appLoading\" class=\"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-4\">\n    <div v-if=\"!appLoading\" class=\"col-span-1 sm:col-span-3 gap-4 grid grid-cols-4\">\n      <at-input placeholder=\"Поиск по ФИО\" iconAfter=\"search\" class=\"md:col-span-2 col-span-4\" v-model=\"query.search\" />\n      <AtSelect\n        placeholder=\"Выберите статус активности\"\n        class=\"md:-mt-1 md:col-span-2 col-span-4\"\n        :options=\"[\n          {\n            title: 'Все',\n            value: 0,\n          },\n          {\n            title: 'В офисе',\n            value: 1,\n          },\n          {\n            title: 'Не в офисе',\n            value: 8,\n          },\n          {\n            title: 'Работает удалённо',\n            value: 6,\n          },\n        ]\"\n        v-model=\"query.status\"\n      ></AtSelect>\n    </div>\n    <at-select :options=\"selectOptions('Все позиции', positions)\" v-model=\"query.position_id\"> </at-select>\n    <at-select\n      :options=\"selectOptions('Все отделы', departments)\"\n      v-model=\"departmentIdQuery.department_id\"\n    ></at-select>\n    <at-select :options=\"selectOptions('Все команды', teams)\" v-model=\"query.team_id\"> </at-select>\n  </div>\n  <div class=\"mt-4 py-2\" v-else>\n    <div class=\"p-4\" v-for=\"i in 3\" :key=\"i\">\n      <at-skeleton type=\"row\"></at-skeleton>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { defineAsyncComponent, ref, computed, watch } from 'vue';\n  import debounce from 'lodash.debounce';\n  import { useStore } from 'vuex';\n  import useRouterReplace from '~/utils/hooks/useRouterReplace';\n  import { useRoute } from 'vue-router';\n\n  export default {\n    name: 'ColleaguesFilters',\n    components: {\n      AtSkeleton: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton')),\n      AtInput: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtInput/AtInput')),\n      AtSelect: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSelect/AtSelect')),\n    },\n    setup() {\n      const store = useStore();\n      const routerReplace = useRouterReplace();\n      const route = useRoute();\n      const query = ref({\n        position_id: Number(route.query.position_id) || 0,\n        team_id: Number(route.query.team_id) || 0,\n        search: route.query.search || '',\n        status: Number(route.query.status) || 0,\n      });\n\n      const departmentIdQuery = ref({\n        department_id: Number(route.query.department_id) || 0,\n      });\n\n      const selectOptions = (defaultTitle, options) => {\n        return [{ title: defaultTitle, value: '' }, ...options];\n      };\n\n      watch(\n        query.value,\n        debounce(() => {\n          routerReplace.setRouter(query, {\n            page: route.query.page,\n          });\n        }, 500)\n      );\n\n      watch(departmentIdQuery.value, () => {\n        routerReplace.setRouter(departmentIdQuery, {\n          page: route.query.page,\n        });\n        store.dispatch('core/getApp', departmentIdQuery.value);\n      });\n\n      return {\n        query,\n        departmentIdQuery,\n        selectOptions,\n        appLoading: computed(() => store.getters['core/appLoading']),\n        positions: computed(() => store.getters['core/positions']),\n        departments: computed(() => store.getters['core/departments']),\n        teams: computed(() => store.getters['core/teams']),\n      };\n    },\n  };\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}