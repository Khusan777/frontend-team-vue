{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/router/index.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/router/index.js","mtime":1651230815099},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL015UHJvamVjdHMvZnJvbnRlbmQtdGVhbS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgeyBjcmVhdGVSb3V0ZXIsIGNyZWF0ZVdlYkhpc3RvcnkgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgcHVibGljUm91dGVzIH0gZnJvbSAnfi9yb3V0ZXIvcHVibGljJzsKaW1wb3J0IHsgcHJpdmF0ZVJvdXRlcyB9IGZyb20gJ34vcm91dGVyL3ByaXZhdGUnOwppbXBvcnQgc3RvcmUgZnJvbSAnfi9zdG9yZSc7CmltcG9ydCBWdWVDb29raWUgZnJvbSAndnVlLWNvb2tpZSc7CnZhciByb3V0ZXIgPSBjcmVhdGVSb3V0ZXIoewogIGhpc3Rvcnk6IGNyZWF0ZVdlYkhpc3RvcnkoKSwKICByb3V0ZXM6IHByaXZhdGVSb3V0ZXMuY29uY2F0KHB1YmxpY1JvdXRlcykKfSk7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgX3RvJG1ldGE7CgogICAgdmFyIGxvZ2dlZEluLCBfc3RvcmUkc3RhdGUsIF9zdG9yZSRzdGF0ZSRhdXRoLCBfc3RvcmUkc3RhdGUyLCBfc3RvcmUkc3RhdGUyJGNvcmU7CgogICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9ICdUZWFtJyArICh0byAhPT0gbnVsbCAmJiB0byAhPT0gdm9pZCAwICYmIChfdG8kbWV0YSA9IHRvLm1ldGEpICE9PSBudWxsICYmIF90byRtZXRhICE9PSB2b2lkIDAgJiYgX3RvJG1ldGEudGl0bGUgPyAnIC0gJyArIHRvLm1ldGEudGl0bGUgOiAnJyk7CiAgICAgICAgICAgIGxvZ2dlZEluID0gVnVlQ29va2llLmdldCgnYXV0aCcpOwoKICAgICAgICAgICAgaWYgKCEoIWxvZ2dlZEluICYmIHRvLm5hbWUgIT09ICdhdXRoLmxvZ2luJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmV4dCh7CiAgICAgICAgICAgICAgbmFtZTogJ2F1dGgubG9naW4nCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTc7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgaWYgKCEodG8ubWF0Y2hlZC5zb21lKGZ1bmN0aW9uIChyZWNvcmQpIHsKICAgICAgICAgICAgICByZXR1cm4gcmVjb3JkLm1ldGEucHVibGljOwogICAgICAgICAgICB9KSAmJiBsb2dnZWRJbikpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIG5leHQoewogICAgICAgICAgICAgIG5hbWU6ICdwcm9maWxlJwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICBicmVhazsKCiAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBpZiAoISghKChfc3RvcmUkc3RhdGUgPSBzdG9yZS5zdGF0ZSkgIT09IG51bGwgJiYgX3N0b3JlJHN0YXRlICE9PSB2b2lkIDAgJiYgKF9zdG9yZSRzdGF0ZSRhdXRoID0gX3N0b3JlJHN0YXRlLmF1dGgpICE9PSBudWxsICYmIF9zdG9yZSRzdGF0ZSRhdXRoICE9PSB2b2lkIDAgJiYgX3N0b3JlJHN0YXRlJGF1dGgudXNlcikgJiYgbG9nZ2VkSW4pKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIHJldHVybiBzdG9yZS5kaXNwYXRjaCgnYXV0aC9nZXRVc2VyJyk7CgogICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgaWYgKChfc3RvcmUkc3RhdGUyID0gc3RvcmUuc3RhdGUpICE9PSBudWxsICYmIF9zdG9yZSRzdGF0ZTIgIT09IHZvaWQgMCAmJiAoX3N0b3JlJHN0YXRlMiRjb3JlID0gX3N0b3JlJHN0YXRlMi5jb3JlKSAhPT0gbnVsbCAmJiBfc3RvcmUkc3RhdGUyJGNvcmUgIT09IHZvaWQgMCAmJiBfc3RvcmUkc3RhdGUyJGNvcmUuZ2xvYmFscykgewogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICByZXR1cm4gc3RvcmUuZGlzcGF0Y2goJ2NvcmUvZ2V0QXBwJyk7CgogICAgICAgICAgY2FzZSAxNjoKICAgICAgICAgICAgbmV4dCgpOwoKICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/router/index.js"],"names":["createRouter","createWebHistory","publicRoutes","privateRoutes","store","VueCookie","router","history","routes","concat","beforeEach","to","from","next","document","title","meta","loggedIn","get","name","matched","some","record","public","state","auth","user","dispatch","core","globals"],"mappings":";;;;AAAA,SAASA,YAAT,EAAuBC,gBAAvB,QAA+C,YAA/C;AACA,SAASC,YAAT,QAA6B,iBAA7B;AACA,SAASC,aAAT,QAA8B,kBAA9B;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,IAAMC,MAAM,GAAGN,YAAY,CAAC;AAC1BO,EAAAA,OAAO,EAAEN,gBAAgB,EADC;AAE1BO,EAAAA,MAAM,EAAEL,aAAa,CAACM,MAAd,CAAqBP,YAArB;AAFkB,CAAD,CAA3B;AAKAI,MAAM,CAACI,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;;AAAA;;AAAA;AAAA;AAAA;AAAA;AAChBC,YAAAA,QAAQ,CAACC,KAAT,GAAiB,UAAUJ,EAAE,SAAF,IAAAA,EAAE,WAAF,gBAAAA,EAAE,CAAEK,IAAJ,8CAAUD,KAAV,GAAkB,QAAQJ,EAAE,CAACK,IAAH,CAAQD,KAAlC,GAA0C,EAApD,CAAjB;AACME,YAAAA,QAFU,GAECZ,SAAS,CAACa,GAAV,CAAc,MAAd,CAFD;;AAAA,kBAGZ,CAACD,QAAD,IAAaN,EAAE,CAACQ,IAAH,KAAY,YAHb;AAAA;AAAA;AAAA;;AAG2BN,YAAAA,IAAI,CAAC;AAAEM,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AAH3B;AAAA;;AAAA;AAAA,kBAIPR,EAAE,CAACS,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,qBAAIA,MAAM,CAACN,IAAP,CAAYO,MAAhB;AAAA,aAAtB,KAAiDN,QAJ1C;AAAA;AAAA;AAAA;;AAKdJ,YAAAA,IAAI,CAAC;AAAEM,cAAAA,IAAI,EAAE;AAAR,aAAD,CAAJ;AALc;AAAA;;AAAA;AAAA,kBAOV,kBAACf,KAAK,CAACoB,KAAP,8DAAC,aAAaC,IAAd,8CAAC,kBAAmBC,IAApB,KAA4BT,QAPlB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAQNb,KAAK,CAACuB,QAAN,CAAe,cAAf,CARM;;AAAA;AAAA,iCASPvB,KAAK,CAACoB,KATC,gEASP,cAAaI,IATN,+CASP,mBAAmBC,OATZ;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAUJzB,KAAK,CAACuB,QAAN,CAAe,aAAf,CAVI;;AAAA;AAadd,YAAAA,IAAI;;AAbU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAiBA,eAAeP,MAAf","sourcesContent":["import { createRouter, createWebHistory } from 'vue-router';\nimport { publicRoutes } from '~/router/public';\nimport { privateRoutes } from '~/router/private';\nimport store from '~/store';\nimport VueCookie from 'vue-cookie';\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: privateRoutes.concat(publicRoutes),\n});\n\nrouter.beforeEach(async (to, from, next) => {\n  document.title = 'Team' + (to?.meta?.title ? ' - ' + to.meta.title : '');\n  const loggedIn = VueCookie.get('auth');\n  if (!loggedIn && to.name !== 'auth.login') next({ name: 'auth.login' });\n  else if (to.matched.some(record => record.meta.public) && loggedIn) {\n    next({ name: 'profile' });\n  } else {\n    if (!store.state?.auth?.user && loggedIn) {\n      await store.dispatch('auth/getUser');\n      if (!store.state?.core?.globals) {\n        await store.dispatch('core/getApp');\n      }\n    }\n    next();\n  }\n});\n\nexport default router;\n"]}]}