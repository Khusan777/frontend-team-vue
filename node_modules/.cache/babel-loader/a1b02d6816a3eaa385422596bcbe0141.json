{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/auth/AuthPage.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/auth/AuthPage.vue","mtime":1651230815046},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgeyBkZWZpbmVBc3luY0NvbXBvbmVudCwgZGVmaW5lQ29tcG9uZW50LCBpbmplY3QsIHJlZiB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gJ34vc2VydmljZXMvYXV0aC5hcGknOwppbXBvcnQgbG9nbyBmcm9tICd+L2Fzc2V0cy9pbWcvbG9nby5zdmcnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdBdXRoUGFnZScsCiAgY29tcG9uZW50czogewogICAgQXRMb2dpblBhZ2U6IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnfi9wbHVnaW5zL2FsaWZ0ZWNoLXVpL2NvbXBvbmVudHMvQXRMb2dpblBhZ2UvQXRMb2dpblBhZ2UnKTsKICAgIH0pCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICB2YXIgVGVhbUxvZ28gPSByZWYoewogICAgICBwYXRoOiBsb2dvLAogICAgICBuYW1lOiAnVGVhbScKICAgIH0pOwogICAgdmFyIHVzZXIgPSByZWYoewogICAgICBwaG9uZTogJycsCiAgICAgIHBhc3N3b3JkOiAnJywKICAgICAgcmVtZW1iZXJfbWU6IHRydWUsCiAgICAgIGFwcDogJ0NsaWVudCcKICAgIH0pOwogICAgdmFyIHJvdXRlciA9IHVzZVJvdXRlcigpOwogICAgdmFyICR0b2FzdCA9IGluamVjdCgnJHRvYXN0Jyk7CgogICAgdmFyIGxvZ2luRnVuYyA9IGZ1bmN0aW9uIGxvZ2luRnVuYygpIHsKICAgICAgbG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICAgIGxvZ2luKHVzZXIudmFsdWUpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdwcm9maWxlJwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UsIF9lcnJvciRyZXNwb25zZSRkYXRhOwoKICAgICAgICAgICR0b2FzdC5zaG93KHsKICAgICAgICAgICAgdGl0bGU6ICdFcnJvcicsCiAgICAgICAgICAgIHN1YlRpdGxlOiBlcnJvciA9PT0gbnVsbCB8fCBlcnJvciA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9lcnJvciRyZXNwb25zZSA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfZXJyb3IkcmVzcG9uc2UkZGF0YSA9IF9lcnJvciRyZXNwb25zZS5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Vycm9yJHJlc3BvbnNlJGRhdGEubWVzc2FnZSwKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJwogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHZhciBfZXJyb3IkcmVzcG9uc2UyLCBfZXJyb3IkcmVzcG9uc2UyJGRhdGE7CgogICAgICAgICAgJHRvYXN0LnNob3coewogICAgICAgICAgICB0aXRsZTogJ0Vycm9yJywKICAgICAgICAgICAgc3ViVGl0bGU6IGVycm9yID09PSBudWxsIHx8IGVycm9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlMiA9IGVycm9yLnJlc3BvbnNlKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2Vycm9yJHJlc3BvbnNlMiRkYXRhID0gX2Vycm9yJHJlc3BvbnNlMi5kYXRhKSA9PT0gbnVsbCB8fCBfZXJyb3IkcmVzcG9uc2UyJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lcnJvciRyZXNwb25zZTIkZGF0YS5tZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAnZXJyb3InCiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBsb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBsb2FkaW5nLAogICAgICB1c2VyOiB1c2VyLAogICAgICBsb2dpbkZ1bmM6IGxvZ2luRnVuYywKICAgICAgVGVhbUxvZ286IFRlYW1Mb2dvCiAgICB9OwogIH0KfSk7"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/auth/AuthPage.vue"],"names":[],"mappings":";;;AAaE,SAAS,oBAAT,EAA+B,eAA/B,EAAgD,MAAhD,EAAwD,GAAxD,QAAmE,KAAnE;AACA,SAAS,SAAT,QAA0B,YAA1B;AACA,SAAS,KAAT,QAAsB,qBAAtB;AACA,OAAO,IAAP,MAAiB,uBAAjB;AAEA,eAAe,eAAe,CAAC;AAC7B,EAAA,IAAI,EAAE,UADuB;AAE7B,EAAA,UAAU,EAAE;AACV,IAAA,WAAW,EAAE,oBAAoB,CAAC;AAAA,aAAM,OAAO,0DAAP,CAAN;AAAA,KAAD;AADvB,GAFiB;AAK7B,EAAA,KAL6B,mBAKrB;AACN,QAAI,OAAM,GAAI,GAAG,CAAC,KAAD,CAAjB;AACA,QAAM,QAAO,GAAI,GAAG,CAAC;AACnB,MAAA,IAAI,EAAE,IADa;AAEnB,MAAA,IAAI,EAAE;AAFa,KAAD,CAApB;AAIA,QAAM,IAAG,GAAI,GAAG,CAAC;AACf,MAAA,KAAK,EAAE,EADQ;AAEf,MAAA,QAAQ,EAAE,EAFK;AAGf,MAAA,WAAW,EAAE,IAHE;AAIf,MAAA,GAAG,EAAE;AAJU,KAAD,CAAhB;AAMA,QAAM,MAAK,GAAI,SAAS,EAAxB;AAEA,QAAM,MAAK,GAAI,MAAM,CAAC,QAAD,CAArB;;AACA,QAAM,SAAQ,GAAI,SAAZ,SAAY,GAAM;AACtB,MAAA,OAAO,CAAC,KAAR,GAAgB,IAAhB;AACA,MAAA,KAAK,CAAC,IAAI,CAAC,KAAN,CAAL,CACG,IADH,CACQ,YAAM;AACV,QAAA,MAAM,CAAC,IAAP,CAAY;AAAE,UAAA,IAAI,EAAE;AAAR,SAAZ;AACD,OAHH,EAIG,KAJH,CAIS,UAAA,KAAI,EAAK;AACd,YAAI,KAAK,CAAC,QAAN,CAAe,MAAf,KAA0B,GAA9B,EAAmC;AAAA;;AACjC,UAAA,MAAM,CAAC,IAAP,CAAY;AAAE,YAAA,KAAK,EAAE,OAAT;AAAkB,YAAA,QAAQ,EAAE,KAAF,aAAE,KAAF,0CAAE,KAAK,CAAE,QAAT,4EAAE,gBAAiB,IAAnB,yDAAE,qBAAuB,OAAnD;AAA4D,YAAA,IAAI,EAAE;AAAlE,WAAZ;AACF,SAFA,MAEO;AAAA;;AACL,UAAA,MAAM,CAAC,IAAP,CAAY;AAAE,YAAA,KAAK,EAAE,OAAT;AAAkB,YAAA,QAAQ,EAAE,KAAF,aAAE,KAAF,2CAAE,KAAK,CAAE,QAAT,8EAAE,iBAAiB,IAAnB,0DAAE,sBAAuB,OAAnD;AAA4D,YAAA,IAAI,EAAE;AAAlE,WAAZ;AACF;AACD,OAVH,EAWG,OAXH,CAWW;AAAA,eAAO,OAAO,CAAC,KAAR,GAAgB,KAAvB;AAAA,OAXX;AAYD,KAdD;;AAeA,WAAO;AACL,MAAA,OAAO,EAAP,OADK;AAEL,MAAA,IAAI,EAAJ,IAFK;AAGL,MAAA,SAAS,EAAT,SAHK;AAIL,MAAA,QAAQ,EAAR;AAJK,KAAP;AAMD;AAzC4B,CAAD,CAA9B","sourcesContent":["<template>\n  <div class=\"w-full flex justify-center items-center\">\n    <AtLoginPage\n      @login=\"loginFunc\"\n      v-model:phone=\"user.phone\"\n      v-model:password=\"user.password\"\n      v-model:remember-me=\"user.remember_me\"\n      :title-logo=\"TeamLogo\"\n      :submitLoading=\"loading\"\n    />\n  </div>\n</template>\n<script>\n  import { defineAsyncComponent, defineComponent, inject, ref } from 'vue';\n  import { useRouter } from 'vue-router';\n  import { login } from '~/services/auth.api';\n  import logo from '~/assets/img/logo.svg';\n\n  export default defineComponent({\n    name: 'AuthPage',\n    components: {\n      AtLoginPage: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtLoginPage/AtLoginPage')),\n    },\n    setup() {\n      let loading = ref(false);\n      const TeamLogo = ref({\n        path: logo,\n        name: 'Team',\n      });\n      const user = ref({\n        phone: '',\n        password: '',\n        remember_me: true,\n        app: 'Client',\n      });\n      const router = useRouter();\n\n      const $toast = inject('$toast');\n      const loginFunc = () => {\n        loading.value = true;\n        login(user.value)\n          .then(() => {\n            router.push({ name: 'profile' });\n          })\n          .catch(error => {\n            if (error.response.status === 401) {\n              $toast.show({ title: 'Error', subTitle: error?.response?.data?.message, type: 'error' });\n            } else {\n              $toast.show({ title: 'Error', subTitle: error?.response?.data?.message, type: 'error' });\n            }\n          })\n          .finally(() => (loading.value = false));\n      };\n      return {\n        loading,\n        user,\n        loginFunc,\n        TeamLogo,\n      };\n    },\n  });\n</script>\n"],"sourceRoot":""}]}