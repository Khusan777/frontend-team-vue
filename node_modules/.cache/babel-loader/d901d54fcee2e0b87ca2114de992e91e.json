{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue","mtime":1651230815050},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgeyByZWYsIG9uTW91bnRlZCwgd2F0Y2gsIGRlZmluZUFzeW5jQ29tcG9uZW50LCB3YXRjaEVmZmVjdCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCB1c2VSb3V0ZXJSZXBsYWNlIGZyb20gJ34vdXRpbHMvaG9va3MvdXNlUm91dGVyUmVwbGFjZSc7CmltcG9ydCB7IGdldEFsbENvbGxlYWd1ZXMsIGdldENvbGxlYWd1ZXNCaXJ0aERheSB9IGZyb20gJ34vc2VydmljZXMvY29sbGVhZ3Vlcy5hcGknOwppbXBvcnQgeyBkZWVwQ29weSB9IGZyb20gJ34vcGx1Z2lucy9hbGlmdGVjaC11aS91dGlscyc7CmltcG9ydCBIZWFkZXIgZnJvbSAnfi9jb21wb25lbnRzL2FwcC9IZWFkZXInOwppbXBvcnQgQ29sbGVhZ3Vlc0ZpbHRlcnMgZnJvbSAnfi9jb21wb25lbnRzL2NvbGxlYWd1ZXMvQ29sbGVhZ3Vlc0ZpbHRlcnMnOwppbXBvcnQgQ29sbGVhZ3Vlc0xpc3QgZnJvbSAnfi9jb21wb25lbnRzL2NvbGxlYWd1ZXMvQ29sbGVhZ3Vlc0xpc3QnOwppbXBvcnQgQ29sbGVhZ3Vlc0JpcnRoRGF5IGZyb20gJ34vY29tcG9uZW50cy9jb2xsZWFndWVzL0NvbGxlYWd1ZXNCaXJ0aERheSc7CmltcG9ydCBTa2VsZXRvbkNhcmQgZnJvbSAnfi9jb21wb25lbnRzL3NrZWxldG9uL1NrZWxldG9uJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdDb2xsZWFndWVzSW5kZXgnLAogIGNvbXBvbmVudHM6IHsKICAgIEF0UGFnaW5hdGlvbjogZGVmaW5lQXN5bmNDb21wb25lbnQoZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gaW1wb3J0KCd+L3BsdWdpbnMvYWxpZnRlY2gtdWkvY29tcG9uZW50cy9BdFBhZ2luYXRpb24vQXRQYWdpbmF0aW9uJyk7CiAgICB9KSwKICAgIEF0U2tlbGV0b246IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnfi9wbHVnaW5zL2FsaWZ0ZWNoLXVpL2NvbXBvbmVudHMvQXRTa2VsZXRvbi9BdFNrZWxldG9uJyk7CiAgICB9KSwKICAgIEF0UGFuZWw6IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnfi9wbHVnaW5zL2FsaWZ0ZWNoLXVpL2NvbXBvbmVudHMvQXRQYW5lbC9BdFBhbmVsJyk7CiAgICB9KSwKICAgIEhlYWRlcjogSGVhZGVyLAogICAgU2tlbGV0b25DYXJkOiBTa2VsZXRvbkNhcmQsCiAgICBDb2xsZWFndWVzQmlydGhEYXk6IENvbGxlYWd1ZXNCaXJ0aERheSwKICAgIENvbGxlYWd1ZXNGaWx0ZXJzOiBDb2xsZWFndWVzRmlsdGVycywKICAgIENvbGxlYWd1ZXNMaXN0OiBDb2xsZWFndWVzTGlzdAogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciByb3V0ZXJSZXBsYWNlID0gdXNlUm91dGVyUmVwbGFjZSgpOwogICAgdmFyIGNvbGxlYWd1ZXMgPSByZWYoe30pOwogICAgdmFyIGJpcnRoRGF5cyA9IHJlZihbXSk7CiAgICB2YXIgbG9hZGluZyA9IHJlZihmYWxzZSk7CiAgICB2YXIgYmlydGhkYXlMb2FkaW5nID0gcmVmKGZhbHNlKTsKICAgIHZhciBxdWVyeSA9IHJlZih7CiAgICAgIHNlYXJjaDogcm91dGUucXVlcnkuc2VhcmNoIHx8ICcnLAogICAgICBwb3NpdGlvbl9pZDogcm91dGUucXVlcnkucG9zaXRpb25faWQgfHwgJycsCiAgICAgIGRlcGFydG1lbnRfaWQ6IHJvdXRlLnF1ZXJ5LmRlcGFydG1lbnRfaWQgfHwgJycsCiAgICAgIHRlYW1faWQ6IHJvdXRlLnF1ZXJ5LnRlYW1faWQgfHwgJycsCiAgICAgIHBhZ2U6IHJvdXRlLnF1ZXJ5LnBhZ2UgfHwgJycsCiAgICAgIHBlcl9wYWdlOiAxMiwKICAgICAgc3RhdHVzOiByb3V0ZS5xdWVyeS5zdGF0dXMgfHwgMAogICAgfSk7CgogICAgdmFyIGdldENvbGxlYWd1ZXMgPSBmdW5jdGlvbiBnZXRDb2xsZWFndWVzKCkgewogICAgICBsb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwogICAgICBnZXRBbGxDb2xsZWFndWVzKHF1ZXJ5LnZhbHVlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbGxlYWd1ZXMudmFsdWUgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gbG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgICB9KTsKICAgIH07CgogICAgdmFyIGdldEJpcnRoRGF5cyA9IGZ1bmN0aW9uIGdldEJpcnRoRGF5cygpIHsKICAgICAgYmlydGhkYXlMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgICAgZ2V0Q29sbGVhZ3Vlc0JpcnRoRGF5KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBiaXJ0aERheXMudmFsdWUgPSByZXNwb25zZS5kYXRhOwogICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gYmlydGhkYXlMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICAgIH0pOwogICAgfTsKCiAgICBvbk1vdW50ZWQoZnVuY3Rpb24gKCkgewogICAgICBnZXRDb2xsZWFndWVzKCk7CiAgICAgIGdldEJpcnRoRGF5cygpOwogICAgfSk7CiAgICB3YXRjaEVmZmVjdChmdW5jdGlvbiAoKSB7CiAgICAgIHJvdXRlclJlcGxhY2Uuc2V0Um91dGVyKHF1ZXJ5KTsKICAgIH0pOwogICAgd2F0Y2goZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcm91dGUucXVlcnk7CiAgICB9LAogICAgLyoqCiAgICAgKiBGZXRjaCB0aGUgdXNlciBpbmZvcm1hdGlvbiB3aGVuIHF1ZXJ5IGNoYW5nZQogICAgICogQHBhcmFtIHtPYmplY3R9IG5ld1F1ZXJ5VmFsdWUgLSBRdWVyeSBvYmplY3QKICAgICAqLwogICAgZnVuY3Rpb24gKG5ld1F1ZXJ5VmFsdWUpIHsKICAgICAgcXVlcnkudmFsdWUgPSBkZWVwQ29weShuZXdRdWVyeVZhbHVlKTsKICAgICAgZ2V0Q29sbGVhZ3VlcygpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjb2xsZWFndWVzOiBjb2xsZWFndWVzLAogICAgICBiaXJ0aERheXM6IGJpcnRoRGF5cywKICAgICAgbG9hZGluZzogbG9hZGluZywKICAgICAgYmlydGhkYXlMb2FkaW5nOiBiaXJ0aGRheUxvYWRpbmcsCiAgICAgIHF1ZXJ5OiBxdWVyeQogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <Header></Header>\n  <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n    <div class=\"col-span-1 md:col-span-3\">\n      <colleagues-filters></colleagues-filters>\n      <div v-if=\"loading\" class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 mt-4\">\n        <at-panel v-for=\"i in 12\" :key=\"i\">\n          <at-skeleton type=\"image\" class=\"mb-3\"></at-skeleton>\n          <at-skeleton type=\"row\" class=\"mb-3\"></at-skeleton>\n          <at-skeleton type=\"row\"></at-skeleton>\n        </at-panel>\n      </div>\n      <colleagues-list v-else :colleagues=\"colleagues.data\"></colleagues-list>\n      <at-pagination\n        v-if=\"colleagues.meta?.last_page > 1\"\n        class=\"py-4 md:col-span-1\"\n        v-model=\"query.page\"\n        :total=\"colleagues.meta?.last_page\"\n      ></at-pagination>\n    </div>\n    <div class=\"col-span-1 md:col-span-1\">\n      <colleagues-birth-day v-if=\"!birthdayLoading\" :birth-days=\"birthDays.data\"></colleagues-birth-day>\n      <skeleton-card v-else :count=\"5\" type=\"list\"></skeleton-card>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { ref, onMounted, watch, defineAsyncComponent, watchEffect } from 'vue';\n  import { useRoute } from 'vue-router';\n  import useRouterReplace from '~/utils/hooks/useRouterReplace';\n  import { getAllColleagues, getColleaguesBirthDay } from '~/services/colleagues.api';\n  import { deepCopy } from '~/plugins/aliftech-ui/utils';\n  import Header from '~/components/app/Header';\n  import ColleaguesFilters from '~/components/colleagues/ColleaguesFilters';\n  import ColleaguesList from '~/components/colleagues/ColleaguesList';\n  import ColleaguesBirthDay from '~/components/colleagues/ColleaguesBirthDay';\n  import SkeletonCard from '~/components/skeleton/Skeleton';\n\n  export default {\n    name: 'ColleaguesIndex',\n    components: {\n      AtPagination: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtPagination/AtPagination')),\n      AtSkeleton: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton')),\n      AtPanel: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtPanel/AtPanel')),\n      Header,\n      SkeletonCard,\n      ColleaguesBirthDay,\n      ColleaguesFilters,\n      ColleaguesList,\n    },\n    setup() {\n      const route = useRoute();\n      const routerReplace = useRouterReplace();\n      const colleagues = ref({});\n      const birthDays = ref([]);\n      const loading = ref(false);\n      const birthdayLoading = ref(false);\n      const query = ref({\n        search: route.query.search || '',\n        position_id: route.query.position_id || '',\n        department_id: route.query.department_id || '',\n        team_id: route.query.team_id || '',\n        page: route.query.page || '',\n        per_page: 12,\n        status: route.query.status || 0,\n      });\n\n      const getColleagues = () => {\n        loading.value = true;\n        window.scrollTo(0, 0);\n        getAllColleagues(query.value)\n          .then(response => {\n            colleagues.value = response.data;\n          })\n          .finally(() => (loading.value = false));\n      };\n\n      const getBirthDays = () => {\n        birthdayLoading.value = true;\n        getColleaguesBirthDay()\n          .then(response => {\n            birthDays.value = response.data;\n          })\n          .finally(() => (birthdayLoading.value = false));\n      };\n\n      onMounted(() => {\n        getColleagues();\n        getBirthDays();\n      });\n\n      watchEffect(() => {\n        routerReplace.setRouter(query);\n      });\n\n      watch(\n        () => route.query,\n        /**\n         * Fetch the user information when query change\n         * @param {Object} newQueryValue - Query object\n         */\n        newQueryValue => {\n          query.value = deepCopy(newQueryValue);\n          getColleagues();\n        }\n      );\n\n      return {\n        colleagues,\n        birthDays,\n        loading,\n        birthdayLoading,\n        query,\n      };\n    },\n  };\n</script>\n"],"sourceRoot":""}]}