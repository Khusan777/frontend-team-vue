{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue?vue&type=template&id=ec0659f2","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue","mtime":1651230815050},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCByZW5kZXJMaXN0IGFzIF9yZW5kZXJMaXN0LCBGcmFnbWVudCBhcyBfRnJhZ21lbnQsIG9wZW5CbG9jayBhcyBfb3BlbkJsb2NrLCBjcmVhdGVFbGVtZW50QmxvY2sgYXMgX2NyZWF0ZUVsZW1lbnRCbG9jaywgd2l0aEN0eCBhcyBfd2l0aEN0eCwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIGNyZWF0ZUJsb2NrIGFzIF9jcmVhdGVCbG9jaywgY3JlYXRlRWxlbWVudFZOb2RlIGFzIF9jcmVhdGVFbGVtZW50Vk5vZGUgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBjbGFzczogImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTQiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiY29sLXNwYW4tMSBtZDpjb2wtc3Bhbi0zIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBrZXk6IDAsCiAgY2xhc3M6ICJncmlkIGdyaWQtY29scy0xIHNtOmdyaWQtY29scy0yIG1kOmdyaWQtY29scy0zIDJ4bDpncmlkLWNvbHMtNCBnYXAtNCBtdC00Igp9Owp2YXIgX2hvaXN0ZWRfNCA9IHsKICBjbGFzczogImNvbC1zcGFuLTEgbWQ6Y29sLXNwYW4tMSIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgXyRzZXR1cCRjb2xsZWFndWVzJG1lLCBfJHNldHVwJGNvbGxlYWd1ZXMkbWUyOwoKICB2YXIgX2NvbXBvbmVudF9IZWFkZXIgPSBfcmVzb2x2ZUNvbXBvbmVudCgiSGVhZGVyIik7CgogIHZhciBfY29tcG9uZW50X2NvbGxlYWd1ZXNfZmlsdGVycyA9IF9yZXNvbHZlQ29tcG9uZW50KCJjb2xsZWFndWVzLWZpbHRlcnMiKTsKCiAgdmFyIF9jb21wb25lbnRfYXRfc2tlbGV0b24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXQtc2tlbGV0b24iKTsKCiAgdmFyIF9jb21wb25lbnRfYXRfcGFuZWwgPSBfcmVzb2x2ZUNvbXBvbmVudCgiYXQtcGFuZWwiKTsKCiAgdmFyIF9jb21wb25lbnRfY29sbGVhZ3Vlc19saXN0ID0gX3Jlc29sdmVDb21wb25lbnQoImNvbGxlYWd1ZXMtbGlzdCIpOwoKICB2YXIgX2NvbXBvbmVudF9hdF9wYWdpbmF0aW9uID0gX3Jlc29sdmVDb21wb25lbnQoImF0LXBhZ2luYXRpb24iKTsKCiAgdmFyIF9jb21wb25lbnRfY29sbGVhZ3Vlc19iaXJ0aF9kYXkgPSBfcmVzb2x2ZUNvbXBvbmVudCgiY29sbGVhZ3Vlcy1iaXJ0aC1kYXkiKTsKCiAgdmFyIF9jb21wb25lbnRfc2tlbGV0b25fY2FyZCA9IF9yZXNvbHZlQ29tcG9uZW50KCJza2VsZXRvbi1jYXJkIik7CgogIHJldHVybiBfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCBudWxsLCBbX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfSGVhZGVyKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIF9ob2lzdGVkXzIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9jb2xsZWFndWVzX2ZpbHRlcnMpLCAkc2V0dXAubG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzMsIFsoX29wZW5CbG9jaygpLCBfY3JlYXRlRWxlbWVudEJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoMTIsIGZ1bmN0aW9uIChpKSB7CiAgICByZXR1cm4gX2NyZWF0ZVZOb2RlKF9jb21wb25lbnRfYXRfcGFuZWwsIHsKICAgICAga2V5OiBpCiAgICB9LCB7CiAgICAgIGRlZmF1bHQ6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW19jcmVhdGVWTm9kZShfY29tcG9uZW50X2F0X3NrZWxldG9uLCB7CiAgICAgICAgICB0eXBlOiAiaW1hZ2UiLAogICAgICAgICAgY2xhc3M6ICJtYi0zIgogICAgICAgIH0pLCBfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9hdF9za2VsZXRvbiwgewogICAgICAgICAgdHlwZTogInJvdyIsCiAgICAgICAgICBjbGFzczogIm1iLTMiCiAgICAgICAgfSksIF9jcmVhdGVWTm9kZShfY29tcG9uZW50X2F0X3NrZWxldG9uLCB7CiAgICAgICAgICB0eXBlOiAicm93IgogICAgICAgIH0pXTsKICAgICAgfSksCiAgICAgIF86IDIKICAgICAgLyogRFlOQU1JQyAqLwoKICAgIH0sIDEwMjQKICAgIC8qIERZTkFNSUNfU0xPVFMgKi8KICAgICk7CiAgfSksIDY0CiAgLyogU1RBQkxFX0ZSQUdNRU5UICovCiAgKSldKSkgOiAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9jb2xsZWFndWVzX2xpc3QsIHsKICAgIGtleTogMSwKICAgIGNvbGxlYWd1ZXM6ICRzZXR1cC5jb2xsZWFndWVzLmRhdGEKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsiY29sbGVhZ3VlcyJdKSksICgoXyRzZXR1cCRjb2xsZWFndWVzJG1lID0gJHNldHVwLmNvbGxlYWd1ZXMubWV0YSkgPT09IG51bGwgfHwgXyRzZXR1cCRjb2xsZWFndWVzJG1lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHNldHVwJGNvbGxlYWd1ZXMkbWUubGFzdF9wYWdlKSA+IDEgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9hdF9wYWdpbmF0aW9uLCB7CiAgICBrZXk6IDIsCiAgICBjbGFzczogInB5LTQgbWQ6Y29sLXNwYW4tMSIsCiAgICBtb2RlbFZhbHVlOiAkc2V0dXAucXVlcnkucGFnZSwKICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSBmdW5jdGlvbiAoJGV2ZW50KSB7CiAgICAgIHJldHVybiAkc2V0dXAucXVlcnkucGFnZSA9ICRldmVudDsKICAgIH0pLAogICAgdG90YWw6IChfJHNldHVwJGNvbGxlYWd1ZXMkbWUyID0gJHNldHVwLmNvbGxlYWd1ZXMubWV0YSkgPT09IG51bGwgfHwgXyRzZXR1cCRjb2xsZWFndWVzJG1lMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogXyRzZXR1cCRjb2xsZWFndWVzJG1lMi5sYXN0X3BhZ2UKICB9LCBudWxsLCA4CiAgLyogUFJPUFMgKi8KICAsIFsibW9kZWxWYWx1ZSIsICJ0b3RhbCJdKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgWyEkc2V0dXAuYmlydGhkYXlMb2FkaW5nID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfY29sbGVhZ3Vlc19iaXJ0aF9kYXksIHsKICAgIGtleTogMCwKICAgICJiaXJ0aC1kYXlzIjogJHNldHVwLmJpcnRoRGF5cy5kYXRhCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbImJpcnRoLWRheXMiXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfc2tlbGV0b25fY2FyZCwgewogICAga2V5OiAxLAogICAgY291bnQ6IDUsCiAgICB0eXBlOiAibGlzdCIKICB9KSldKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApOwp9"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/colleagues/ColleaguesIndex.vue"],"names":[],"mappings":";;AAEO,EAAA,KAAK,EAAC;;;AACJ,EAAA,KAAK,EAAC;;;;AAEW,EAAA,KAAK,EAAC;;;AAevB,EAAA,KAAK,EAAC;;;;;;;;;;;;;;;;;;;;;6DAnBb,YAAA,CAAiB,iBAAjB,C,EACA,mBAAA,CAsBM,KAtBN,EAAA,UAAA,EAsBM,CArBJ,mBAAA,CAgBM,KAhBN,EAAA,UAAA,EAgBM,CAfJ,YAAA,CAAyC,6BAAzC,CAeI,EAdO,MAAA,CAAA,O,kBAAX,mBAAA,CAMM,KANN,EAAA,UAAA,EAMM,E,cALJ,mBAAA,CAIW,SAJX,EAIW,IAJX,EAIW,WAAA,CAJW,EAIX,EAJa,UAAP,CAAO,EAAN;WAAlB,YAAA,CAIW,mBAJX,EAIW;AAJgB,MAAA,GAAG,EAAE;AAIrB,KAJX,EAAiC;wBAC/B;AAAA,eAAqD,CAArD,YAAA,CAAqD,sBAArD,EAAqD;AAAxC,UAAA,IAAI,EAAC,OAAmC;AAA3B,UAAA,KAAK,EAAC;AAAqB,SAArD,CAAqD,EACrD,YAAA,CAAmD,sBAAnD,EAAmD;AAAtC,UAAA,IAAI,EAAC,KAAiC;AAA3B,UAAA,KAAK,EAAC;AAAqB,SAAnD,CADqD,EAErD,YAAA,CAAsC,sBAAtC,EAAsC;AAAzB,UAAA,IAAI,EAAC;AAAoB,SAAtC,CAFqD,CAArD;AAAA,O,CAD+B;;;;AAAA,KAAjC,E;;AAAA,K;GAIW,CAJX,E;;AAAA,GAKI,EANN,C,mBAOA,YAAA,CAAwE,0BAAxE,EAAwE;UAAA;AAA/C,IAAA,UAAU,EAAE,MAAA,CAAA,UAAA,CAAW;AAAwB,GAAxE,E,IAAA,E;;AAAA,I,cAAA,C,CAOI,EALI,0BAAA,MAAA,CAAA,UAAA,CAAW,IAAX,gFAAiB,SAAjB,IAA0B,C,kBADlC,YAAA,CAKiB,wBALjB,EAKiB;UAAA;AAHf,IAAA,KAAK,EAAC,oBAGS;gBAFN,MAAA,CAAA,KAAA,CAAM,IAEA;;aAFN,MAAA,CAAA,KAAA,CAAM,IAAN,GAAU,M;MAEJ;AADd,IAAA,KAAK,4BAAE,MAAA,CAAA,UAAA,CAAW,IAAb,2DAAE,uBAAiB;AACV,GALjB,E,IAAA,E;;AAAA,I,uBAAA,C,qCAMI,CAhBN,CAqBI,EAJJ,mBAAA,CAGM,KAHN,EAAA,UAAA,EAGM,C,CAFyB,MAAA,CAAA,e,kBAA7B,YAAA,CAAkG,+BAAlG,EAAkG;UAAA;AAAnD,kBAAY,MAAA,CAAA,SAAA,CAAU;AAA6B,GAAlG,E,IAAA,E;;AAAA,I,cAAA,C,mBACA,YAAA,CAA6D,wBAA7D,EAA6D;UAAA;AAAtC,IAAA,KAAK,EAAE,CAA+B;AAA5B,IAAA,IAAI,EAAC;AAAuB,GAA7D,C,CACI,CAHN,CAII,CAtBN,C","sourcesContent":["<template>\n  <Header></Header>\n  <div class=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n    <div class=\"col-span-1 md:col-span-3\">\n      <colleagues-filters></colleagues-filters>\n      <div v-if=\"loading\" class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 mt-4\">\n        <at-panel v-for=\"i in 12\" :key=\"i\">\n          <at-skeleton type=\"image\" class=\"mb-3\"></at-skeleton>\n          <at-skeleton type=\"row\" class=\"mb-3\"></at-skeleton>\n          <at-skeleton type=\"row\"></at-skeleton>\n        </at-panel>\n      </div>\n      <colleagues-list v-else :colleagues=\"colleagues.data\"></colleagues-list>\n      <at-pagination\n        v-if=\"colleagues.meta?.last_page > 1\"\n        class=\"py-4 md:col-span-1\"\n        v-model=\"query.page\"\n        :total=\"colleagues.meta?.last_page\"\n      ></at-pagination>\n    </div>\n    <div class=\"col-span-1 md:col-span-1\">\n      <colleagues-birth-day v-if=\"!birthdayLoading\" :birth-days=\"birthDays.data\"></colleagues-birth-day>\n      <skeleton-card v-else :count=\"5\" type=\"list\"></skeleton-card>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { ref, onMounted, watch, defineAsyncComponent, watchEffect } from 'vue';\n  import { useRoute } from 'vue-router';\n  import useRouterReplace from '~/utils/hooks/useRouterReplace';\n  import { getAllColleagues, getColleaguesBirthDay } from '~/services/colleagues.api';\n  import { deepCopy } from '~/plugins/aliftech-ui/utils';\n  import Header from '~/components/app/Header';\n  import ColleaguesFilters from '~/components/colleagues/ColleaguesFilters';\n  import ColleaguesList from '~/components/colleagues/ColleaguesList';\n  import ColleaguesBirthDay from '~/components/colleagues/ColleaguesBirthDay';\n  import SkeletonCard from '~/components/skeleton/Skeleton';\n\n  export default {\n    name: 'ColleaguesIndex',\n    components: {\n      AtPagination: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtPagination/AtPagination')),\n      AtSkeleton: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton')),\n      AtPanel: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtPanel/AtPanel')),\n      Header,\n      SkeletonCard,\n      ColleaguesBirthDay,\n      ColleaguesFilters,\n      ColleaguesList,\n    },\n    setup() {\n      const route = useRoute();\n      const routerReplace = useRouterReplace();\n      const colleagues = ref({});\n      const birthDays = ref([]);\n      const loading = ref(false);\n      const birthdayLoading = ref(false);\n      const query = ref({\n        search: route.query.search || '',\n        position_id: route.query.position_id || '',\n        department_id: route.query.department_id || '',\n        team_id: route.query.team_id || '',\n        page: route.query.page || '',\n        per_page: 12,\n        status: route.query.status || 0,\n      });\n\n      const getColleagues = () => {\n        loading.value = true;\n        window.scrollTo(0, 0);\n        getAllColleagues(query.value)\n          .then(response => {\n            colleagues.value = response.data;\n          })\n          .finally(() => (loading.value = false));\n      };\n\n      const getBirthDays = () => {\n        birthdayLoading.value = true;\n        getColleaguesBirthDay()\n          .then(response => {\n            birthDays.value = response.data;\n          })\n          .finally(() => (birthdayLoading.value = false));\n      };\n\n      onMounted(() => {\n        getColleagues();\n        getBirthDays();\n      });\n\n      watchEffect(() => {\n        routerReplace.setRouter(query);\n      });\n\n      watch(\n        () => route.query,\n        /**\n         * Fetch the user information when query change\n         * @param {Object} newQueryValue - Query object\n         */\n        newQueryValue => {\n          query.value = deepCopy(newQueryValue);\n          getColleagues();\n        }\n      );\n\n      return {\n        colleagues,\n        birthDays,\n        loading,\n        birthdayLoading,\n        query,\n      };\n    },\n  };\n</script>\n"],"sourceRoot":""}]}