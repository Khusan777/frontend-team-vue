{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/profile/ProfileIndex.vue?vue&type=template&id=439a7a73","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/profile/ProfileIndex.vue","mtime":1651230815052},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBjcmVhdGVFbGVtZW50Vk5vZGUgYXMgX2NyZWF0ZUVsZW1lbnRWTm9kZSwgb3BlbkJsb2NrIGFzIF9vcGVuQmxvY2ssIGNyZWF0ZUVsZW1lbnRCbG9jayBhcyBfY3JlYXRlRWxlbWVudEJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQgYXMgX3Jlc29sdmVEeW5hbWljQ29tcG9uZW50LCBub3JtYWxpemVQcm9wcyBhcyBfbm9ybWFsaXplUHJvcHMsIGd1YXJkUmVhY3RpdmVQcm9wcyBhcyBfZ3VhcmRSZWFjdGl2ZVByb3BzLCBjcmVhdGVCbG9jayBhcyBfY3JlYXRlQmxvY2ssIEtlZXBBbGl2ZSBhcyBfS2VlcEFsaXZlLCBGcmFnbWVudCBhcyBfRnJhZ21lbnQgfSBmcm9tICJ2dWUiOwp2YXIgX2hvaXN0ZWRfMSA9IHsKICBrZXk6IDAKfTsKdmFyIF9ob2lzdGVkXzIgPSB7CiAgY2xhc3M6ICJmbGV4IGZsZXgtcm93IG1kOmZsZXgtcm93IGp1c3RpZnktc3RhcnQiCn07CnZhciBfaG9pc3RlZF8zID0gewogIGNsYXNzOiAidy0xLzIgbWwtNCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgY2xhc3M6ICJmbGV4IG1kOmZsZXgtcm93IGp1c3RpZnktZW5kIGZsZXgtZ3JvdyBmbGV4LWNvbCBtdC02Igp9Owp2YXIgX2hvaXN0ZWRfNSA9IHsKICBjbGFzczogInctZnVsbCIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgY2xhc3M6ICJtdC02Igp9OwpleHBvcnQgZnVuY3Rpb24gcmVuZGVyKF9jdHgsIF9jYWNoZSwgJHByb3BzLCAkc2V0dXAsICRkYXRhLCAkb3B0aW9ucykgewogIHZhciBfJHNldHVwJHRhYkNvbXBvbmVudHMsIF8kc2V0dXAkdGFiQ29tcG9uZW50czI7CgogIHJldHVybiAkc2V0dXAudXNlclByb2ZpbGUubG9hZGluZyA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFtfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yLCBbX2NyZWF0ZVZOb2RlKCRzZXR1cFsiQXRTa2VsZXRvbiJdLCB7CiAgICBjbGFzczogIi1tdC0xNiBoLTQ4IHctNDggbWQ6bWwtMCBteC1hdXRvIG9iamVjdC1jb3ZlciBib3JkZXItOCBib3JkZXItZ3JheS01MCByb3VuZGVkIGJsb2NrIiwKICAgIHR5cGU6ICJpbWFnZSIKICB9KSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgkc2V0dXBbIkF0U2tlbGV0b24iXSwgewogICAgY2xhc3M6ICJtYi0yIGgtOCIsCiAgICB0eXBlOiAicm93IgogIH0pLCBfY3JlYXRlVk5vZGUoJHNldHVwWyJBdFNrZWxldG9uIl0sIHsKICAgIHR5cGU6ICJyb3ciCiAgfSldKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgkc2V0dXBbIkF0U2tlbGV0b24iXSwgewogICAgY2xhc3M6ICJtZDptci0yIG1yLTAgbWItMSIsCiAgICB0eXBlOiAiYnV0dG9uIgogIH0pLCBfY3JlYXRlVk5vZGUoJHNldHVwWyJBdFNrZWxldG9uIl0sIHsKICAgIHR5cGU6ICJidXR0b24iCiAgfSldKV0pLCBfY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbX2NyZWF0ZVZOb2RlKCRzZXR1cFsiQXRTa2VsZXRvbiJdLCB7CiAgICB0eXBlOiAiaW1hZ2UiCiAgfSldKV0pKSA6IChfb3BlbkJsb2NrKCksIF9jcmVhdGVFbGVtZW50QmxvY2soX0ZyYWdtZW50LCB7CiAgICBrZXk6IDEKICB9LCBbX2NyZWF0ZVZOb2RlKCRzZXR1cFsiUHJvZmlsZUluZm8iXSwgewogICAgbWFuYWdlcjogISEkc2V0dXAuZW1wbG95ZWVJZCwKICAgIHVzZXI6ICRzZXR1cC51c2VyUHJvZmlsZS5kYXRhCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1hbmFnZXIiLCAidXNlciJdKSwgX2NyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNiwgW19jcmVhdGVWTm9kZSgkc2V0dXBbIkF0VGFicyJdLCB7CiAgICBpdGVtczogW3sKICAgICAgdGl0bGU6ICfQk9C70LDQstC90L7QtScsCiAgICAgIHZhbHVlOiAnaG9tZScsCiAgICAgIGljb246ICdob21lJywKICAgICAgZXhhY3Q6IHRydWUKICAgIH0sIHsKICAgICAgdGl0bGU6ICfQlNCw0L3QvdGL0LUnLAogICAgICB2YWx1ZTogJ2RhdGEnLAogICAgICBpY29uOiAnY2xpcGJvYXJkTGlzdCcKICAgIH0sIHsKICAgICAgdGl0bGU6ICdPdXRCb3QnLAogICAgICB2YWx1ZTogJ291dGJvdCcsCiAgICAgIGljb246ICdleHRlcm5hbExpbmsnCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn0J7Qv9GG0LjQvtC90YsnLAogICAgICB2YWx1ZTogJ29wdGlvbnMnLAogICAgICBpY29uOiAnY3VycmVuY3lEb2xsYXInCiAgICB9LCB7CiAgICAgIHRpdGxlOiAn0KTQuNC00LHQtdC60LgnLAogICAgICB2YWx1ZTogJ2ZlZWRiYWNrcycsCiAgICAgIGljb246ICdjaGF0QWx0JwogICAgfSwgewogICAgICB0aXRsZTogJ9Cd0LDRgdGC0YDQvtC50LrQuCcsCiAgICAgIHZhbHVlOiAnc2V0dGluZ3MnLAogICAgICBpY29uOiAnY29nJwogICAgfV0sCiAgICAibW9kZWwtdmFsdWUiOiBfY3R4LiRyb3V0ZS5xdWVyeS50YWIsCiAgICAib25VcGRhdGU6bW9kZWxWYWx1ZSI6IF9jYWNoZVswXSB8fCAoX2NhY2hlWzBdID0gZnVuY3Rpb24gKCRldmVudCkgewogICAgICByZXR1cm4gX2N0eC4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IF9jdHguJHJvdXRlLnBhdGgsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIHRhYjogJGV2ZW50CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pCiAgfSwgbnVsbCwgOAogIC8qIFBST1BTICovCiAgLCBbIm1vZGVsLXZhbHVlIl0pLCAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX0tlZXBBbGl2ZSwgbnVsbCwgWyhfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jayhfcmVzb2x2ZUR5bmFtaWNDb21wb25lbnQoKChfJHNldHVwJHRhYkNvbXBvbmVudHMgPSAkc2V0dXAudGFiQ29tcG9uZW50c1skc2V0dXAucm91dGUucXVlcnkudGFiXSkgPT09IG51bGwgfHwgXyRzZXR1cCR0YWJDb21wb25lbnRzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHNldHVwJHRhYkNvbXBvbmVudHMuY29tcG9uZW50KSB8fCAkc2V0dXAudGFiQ29tcG9uZW50cy5ob21lLmNvbXBvbmVudCksIF9ub3JtYWxpemVQcm9wcyhfZ3VhcmRSZWFjdGl2ZVByb3BzKCgoXyRzZXR1cCR0YWJDb21wb25lbnRzMiA9ICRzZXR1cC50YWJDb21wb25lbnRzWyRzZXR1cC5yb3V0ZS5xdWVyeS50YWJdKSA9PT0gbnVsbCB8fCBfJHNldHVwJHRhYkNvbXBvbmVudHMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHNldHVwJHRhYkNvbXBvbmVudHMyLnByb3BzKSB8fCAkc2V0dXAudGFiQ29tcG9uZW50cy5ob21lLnByb3BzKSksIG51bGwsIDE2CiAgLyogRlVMTF9QUk9QUyAqLwogICkpXSwgMTAyNAogIC8qIERZTkFNSUNfU0xPVFMgKi8KICApKV0pXSwgNjQKICAvKiBTVEFCTEVfRlJBR01FTlQgKi8KICApKTsKfQ=="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/pages/profile/ProfileIndex.vue"],"names":[],"mappings":"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","sourcesContent":["<script>\n  export default {\n    beforeRouteEnter(to, from, next) {\n      if (!to.query.tab) return next({ path: to.path, query: { tab: 'home' } });\n      next();\n    },\n  };\n</script>\n\n<script setup>\n  import { reactive, defineAsyncComponent, computed } from 'vue';\n  import { employeeAdditionalDayOffs, getEmployeeById } from '~/services/employees.api';\n  import { parseErrorsFromResponse } from '~/utils/parsers';\n  import { useRoute } from 'vue-router';\n  import { useStore } from 'vuex';\n\n  const AtSkeleton = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton'));\n  const ProfileHome = defineAsyncComponent(() => import('~/components/profile/ProfileHome'));\n  const ProfileInfo = defineAsyncComponent(() => import('~/components/profile/ProfileInfo'));\n  const AtTabs = defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtTabs/AtTabs'));\n  const ProfileOutbotData = defineAsyncComponent(() => import('~/components/profile/ProfileOutbotData'));\n  const ProfileColleaguesData = defineAsyncComponent(() => import('~/components/profile/ProfileColleaguesData'));\n  const StockStatistics = defineAsyncComponent(() => import('~/components/profile/StockStatistics'));\n  const ProfileFeedbacks = defineAsyncComponent(() => import('~/components/profile/ProfileFeedbacks'));\n  const OutBotSettings = defineAsyncComponent(() => import('~/components/profile/OutBotSettings'));\n  const route = useRoute();\n  const store = useStore();\n  let employeeId = route.query?.employee_id;\n  window.scrollTo(0, 0);\n  const userProfile = reactive({\n    data: null,\n    loading: false,\n    error: '',\n  });\n\n  const additionalDayOffs = reactive({\n    data: undefined,\n    loading: true,\n    error: [],\n  });\n\n  employeeAdditionalDayOffs()\n    .then(response => (additionalDayOffs.data = response.data))\n    .catch(err => (additionalDayOffs.error = parseErrorsFromResponse(err)))\n    .finally(() => (additionalDayOffs.loading = false));\n\n  const getTeamEmployee = () => {\n    userProfile.loading = true;\n    (!employeeId ? store.dispatch('core/getEmployeeData') : getEmployeeById(employeeId))\n      .then(response => {\n        userProfile.data = employeeId ? response?.data : store.getters['core/getEmployeeData'].data?.employee;\n      })\n      .catch(err => (userProfile.error = parseErrorsFromResponse(err)))\n      .finally(() => (userProfile.loading = false));\n  };\n\n  getTeamEmployee();\n\n  const tabComponents = computed(() => ({\n    home: {\n      component: ProfileHome,\n      props: {\n        loading: userProfile.data?.loading,\n        goals: userProfile.data?.goals,\n        userId: userProfile.data?.id,\n        manager: !!employeeId,\n        additionalDayOffs: additionalDayOffs.data,\n      },\n    },\n    data: {\n      component: ProfileColleaguesData,\n      props: {\n        colleagueData: userProfile.data,\n        loading: userProfile.loading,\n        additionalDayOffs: additionalDayOffs.data,\n        additionalDayOffsLoading: additionalDayOffs.loading,\n      },\n    },\n    outbot: {\n      component: ProfileOutbotData,\n      props: {\n        userId:userProfile.data?.id,\n        userData: userProfile.data,\n        loading: userProfile.loading,\n      },\n    },\n    options: {\n      component: StockStatistics,\n      props: {},\n    },\n    feedbacks: {\n      component: ProfileFeedbacks,\n      props: {},\n    },\n    settings: {\n      props: {\n        userId: userProfile.data?.id,\n      },\n      component: OutBotSettings,\n    },\n  }));\n</script>\n\n<template>\n  <div v-if=\"userProfile.loading\">\n    <div class=\"flex flex-row md:flex-row justify-start\">\n      <at-skeleton\n        class=\"-mt-16 h-48 w-48 md:ml-0 mx-auto object-cover border-8 border-gray-50 rounded block\"\n        type=\"image\"\n      ></at-skeleton>\n      <div class=\"w-1/2 ml-4\">\n        <at-skeleton class=\"mb-2 h-8\" type=\"row\"></at-skeleton>\n        <at-skeleton type=\"row\"></at-skeleton>\n      </div>\n      <div class=\"flex md:flex-row justify-end flex-grow flex-col mt-6\">\n        <at-skeleton class=\"md:mr-2 mr-0 mb-1\" type=\"button\"></at-skeleton>\n        <at-skeleton type=\"button\"></at-skeleton>\n      </div>\n    </div>\n    <div class=\"w-full\">\n      <at-skeleton type=\"image\"></at-skeleton>\n    </div>\n  </div>\n  <template v-else>\n    <profile-info :manager=\"!!employeeId\" :user=\"userProfile.data\"></profile-info>\n    <div class=\"mt-6\">\n      <AtTabs\n        :items=\"[\n          { title: 'Главное', value: 'home', icon: 'home', exact: true },\n          { title: 'Данные', value: 'data', icon: 'clipboardList' },\n          { title: 'OutBot', value: 'outbot', icon: 'externalLink' },\n          { title: 'Опционы', value: 'options', icon: 'currencyDollar' },\n          { title: 'Фидбеки', value: 'feedbacks', icon: 'chatAlt' },\n          { title: 'Настройки', value: 'settings', icon: 'cog' },\n        ]\"\n        :model-value=\"$route.query.tab\"\n        @update:model-value=\"$router.push({ path: $route.path, query: { tab: $event } })\"\n      />\n      <keep-alive>\n        <component\n          :is=\"tabComponents[route.query.tab]?.component || tabComponents.home.component\"\n          v-bind=\"tabComponents[route.query.tab]?.props || tabComponents.home.props\"\n        ></component>\n      </keep-alive>\n    </div>\n  </template>\n</template>\n"],"sourceRoot":""}]}