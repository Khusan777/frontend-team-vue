{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/plugins/aliftech-ui/utils/maska/maska.js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/plugins/aliftech-ui/utils/maska/maska.js","mtime":1651230815098},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvTXlQcm9qZWN0cy9mcm9udGVuZC10ZWFtLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvTXlQcm9qZWN0cy9mcm9udGVuZC10ZWFtLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL015UHJvamVjdHMvZnJvbnRlbmQtdGVhbS12dWUvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUNsYXNzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKaW1wb3J0IG1hc2sgZnJvbSAnLi9tYXNrJzsKaW1wb3J0IHRva2VucyBmcm9tICcuL3Rva2Vucyc7CmltcG9ydCB7IGV2ZW50LCBmaW5kSW5wdXRFbGVtZW50LCBmaXhJbnB1dFNlbGVjdGlvbiwgaXNTdHJpbmcgfSBmcm9tICcuL3V0aWxzJzsKCnZhciBNYXNrYSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gTWFza2EoZWwpIHsKICAgIHZhciBvcHRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTsKCiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFza2EpOwoKICAgIGlmICghZWwpIHRocm93IG5ldyBFcnJvcignTWFza2E6IG5vIGVsZW1lbnQgZm9yIG1hc2snKTsKCiAgICBpZiAob3B0cy50b2tlbnMpIHsKICAgICAgZm9yICh2YXIgaSBpbiBvcHRzLnRva2VucykgewogICAgICAgIG9wdHMudG9rZW5zW2ldID0gX29iamVjdFNwcmVhZCh7fSwgb3B0cy50b2tlbnNbaV0pOwoKICAgICAgICBpZiAob3B0cy50b2tlbnNbaV0ucGF0dGVybiAmJiBpc1N0cmluZyhvcHRzLnRva2Vuc1tpXS5wYXR0ZXJuKSkgewogICAgICAgICAgb3B0cy50b2tlbnNbaV0ucGF0dGVybiA9IG5ldyBSZWdFeHAob3B0cy50b2tlbnNbaV0ucGF0dGVybik7CiAgICAgICAgfQogICAgICB9CiAgICB9CgogICAgdGhpcy5fb3B0cyA9IHsKICAgICAgbWFzazogb3B0cy5tYXNrLAogICAgICB0b2tlbnM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9rZW5zKSwgb3B0cy50b2tlbnMpCiAgICB9OwogICAgdGhpcy5fZWwgPSBpc1N0cmluZyhlbCkgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKSA6ICFlbC5sZW5ndGggPyBbZWxdIDogZWw7CiAgICB0aGlzLmluaXQoKTsKICB9CgogIF9jcmVhdGVDbGFzcyhNYXNrYSwgW3sKICAgIGtleTogImluaXQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGluaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2VsLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGVsID0gZmluZElucHV0RWxlbWVudCh0aGlzLl9lbFtpXSk7CgogICAgICAgIGlmICh0aGlzLl9vcHRzLm1hc2sgJiYgKCFlbC5kYXRhc2V0Lm1hc2sgfHwgZWwuZGF0YXNldC5tYXNrICE9PSB0aGlzLl9vcHRzLm1hc2spKSB7CiAgICAgICAgICBlbC5kYXRhc2V0Lm1hc2sgPSB0aGlzLl9vcHRzLm1hc2s7CiAgICAgICAgfQoKICAgICAgICB0aGlzLnVwZGF0ZVZhbHVlKGVsKTsKCiAgICAgICAgaWYgKCFlbC5kYXRhc2V0Lm1hc2tJbml0ZWQpIHsKICAgICAgICAgIGVsLmRhdGFzZXQubWFza0luaXRlZCA9IHRydWU7CiAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVZhbHVlKGV2dC50YXJnZXQsIGV2dCk7CiAgICAgICAgICB9KTsKICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2JlZm9yZWlucHV0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXMuYmVmb3JlSW5wdXQoZXZ0KTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImRlc3Ryb3kiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLl9lbC5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBlbCA9IGZpbmRJbnB1dEVsZW1lbnQodGhpcy5fZWxbaV0pOwogICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi51cGRhdGVWYWx1ZShldnQudGFyZ2V0LCBldnQpOwogICAgICAgIH0pOwogICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JlZm9yZWlucHV0JywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgICAgcmV0dXJuIF90aGlzMi5iZWZvcmVJbnB1dChldnQpOwogICAgICAgIH0pOwogICAgICAgIGRlbGV0ZSBlbC5kYXRhc2V0Lm1hc2s7CiAgICAgICAgZGVsZXRlIGVsLmRhdGFzZXQubWFza0luaXRlZDsKICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogInVwZGF0ZVZhbHVlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWYWx1ZShlbCwgZXZ0KSB7CiAgICAgIGlmICghZWwgfHwgIWVsLnR5cGUpIHJldHVybjsKICAgICAgdmFyIHdyb25nTnVtID0gZWwudHlwZS5tYXRjaCgvXm51bWJlciQvaSkgJiYgZWwudmFsaWRpdHkuYmFkSW5wdXQ7CgogICAgICBpZiAoIWVsLnZhbHVlICYmICF3cm9uZ051bSB8fCAhZWwuZGF0YXNldC5tYXNrKSB7CiAgICAgICAgZWwuZGF0YXNldC5tYXNrUmF3VmFsdWUgPSAnJzsKICAgICAgICB0aGlzLmRpc3BhdGNoKCdtYXNrYScsIGVsLCBldnQpOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIHBvc2l0aW9uID0gZWwuc2VsZWN0aW9uRW5kOwogICAgICB2YXIgb2xkVmFsdWUgPSBlbC52YWx1ZTsKICAgICAgdmFyIGRpZ2l0ID0gb2xkVmFsdWVbcG9zaXRpb24gLSAxXTsKICAgICAgZWwuZGF0YXNldC5tYXNrUmF3VmFsdWUgPSBtYXNrKGVsLnZhbHVlLCBlbC5kYXRhc2V0Lm1hc2ssIHRoaXMuX29wdHMudG9rZW5zLCBmYWxzZSk7CiAgICAgIGVsLnZhbHVlID0gbWFzayhlbC52YWx1ZSwgZWwuZGF0YXNldC5tYXNrLCB0aGlzLl9vcHRzLnRva2Vucyk7CgogICAgICBpZiAoZXZ0ICYmIGV2dC5pbnB1dFR5cGUgPT09ICdpbnNlcnRUZXh0JyAmJiBwb3NpdGlvbiA9PT0gb2xkVmFsdWUubGVuZ3RoKSB7CiAgICAgICAgcG9zaXRpb24gPSBlbC52YWx1ZS5sZW5ndGg7CiAgICAgIH0KCiAgICAgIGZpeElucHV0U2VsZWN0aW9uKGVsLCBwb3NpdGlvbiwgZGlnaXQpOwogICAgICB0aGlzLmRpc3BhdGNoKCdtYXNrYScsIGVsLCBldnQpOwoKICAgICAgaWYgKGVsLnZhbHVlICE9PSBvbGRWYWx1ZSkgewogICAgICAgIHRoaXMuZGlzcGF0Y2goJ2lucHV0JywgZWwsIGV2dCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJiZWZvcmVJbnB1dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYmVmb3JlSW5wdXQoZSkgewogICAgICBpZiAoZSAmJiBlLnRhcmdldCAmJiBlLnRhcmdldC50eXBlICYmIGUudGFyZ2V0LnR5cGUubWF0Y2goL15udW1iZXIkL2kpICYmIGUuZGF0YSAmJiBpc05hTihlLnRhcmdldC52YWx1ZSArIGUuZGF0YSkpIHsKICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJkaXNwYXRjaCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGF0Y2gobmFtZSwgZWwsIGV2dCkgewogICAgICBlbC5kaXNwYXRjaEV2ZW50KGV2ZW50KG5hbWUsIGV2dCAmJiBldnQuaW5wdXRUeXBlIHx8IG51bGwpKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBNYXNrYTsKfSgpOwoKZXhwb3J0IHsgTWFza2EgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/plugins/aliftech-ui/utils/maska/maska.js"],"names":["mask","tokens","event","findInputElement","fixInputSelection","isString","Maska","el","opts","Error","i","pattern","RegExp","_opts","_el","document","querySelectorAll","length","init","dataset","updateValue","maskInited","addEventListener","evt","target","beforeInput","removeEventListener","type","wrongNum","match","validity","badInput","value","maskRawValue","dispatch","position","selectionEnd","oldValue","digit","inputType","e","data","isNaN","preventDefault","name","dispatchEvent"],"mappings":"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","sourcesContent":["import mask from './mask';\nimport tokens from './tokens';\nimport { event, findInputElement, fixInputSelection, isString } from './utils';\n\nexport default class Maska {\n  constructor(el, opts = {}) {\n    if (!el) throw new Error('Maska: no element for mask');\n\n    if (opts.tokens) {\n      for (const i in opts.tokens) {\n        opts.tokens[i] = { ...opts.tokens[i] };\n        if (opts.tokens[i].pattern && isString(opts.tokens[i].pattern)) {\n          opts.tokens[i].pattern = new RegExp(opts.tokens[i].pattern);\n        }\n      }\n    }\n\n    this._opts = {\n      mask: opts.mask,\n      tokens: { ...tokens, ...opts.tokens },\n    };\n    this._el = isString(el) ? document.querySelectorAll(el) : !el.length ? [el] : el;\n\n    this.init();\n  }\n\n  init() {\n    for (let i = 0; i < this._el.length; i++) {\n      const el = findInputElement(this._el[i]);\n      if (this._opts.mask && (!el.dataset.mask || el.dataset.mask !== this._opts.mask)) {\n        el.dataset.mask = this._opts.mask;\n      }\n      this.updateValue(el);\n      if (!el.dataset.maskInited) {\n        el.dataset.maskInited = true;\n        el.addEventListener('input', evt => this.updateValue(evt.target, evt));\n        el.addEventListener('beforeinput', evt => this.beforeInput(evt));\n      }\n    }\n  }\n\n  destroy() {\n    for (let i = 0; i < this._el.length; i++) {\n      const el = findInputElement(this._el[i]);\n      el.removeEventListener('input', evt => this.updateValue(evt.target, evt));\n      el.removeEventListener('beforeinput', evt => this.beforeInput(evt));\n      delete el.dataset.mask;\n      delete el.dataset.maskInited;\n    }\n  }\n\n  updateValue(el, evt) {\n    if (!el || !el.type) return;\n    const wrongNum = el.type.match(/^number$/i) && el.validity.badInput;\n    if ((!el.value && !wrongNum) || !el.dataset.mask) {\n      el.dataset.maskRawValue = '';\n      this.dispatch('maska', el, evt);\n      return;\n    }\n\n    let position = el.selectionEnd;\n    const oldValue = el.value;\n    const digit = oldValue[position - 1];\n    el.dataset.maskRawValue = mask(el.value, el.dataset.mask, this._opts.tokens, false);\n    el.value = mask(el.value, el.dataset.mask, this._opts.tokens);\n\n    if (evt && evt.inputType === 'insertText' && position === oldValue.length) {\n      position = el.value.length;\n    }\n    fixInputSelection(el, position, digit);\n\n    this.dispatch('maska', el, evt);\n    if (el.value !== oldValue) {\n      this.dispatch('input', el, evt);\n    }\n  }\n\n  beforeInput(e) {\n    if (\n      e &&\n      e.target &&\n      e.target.type &&\n      e.target.type.match(/^number$/i) &&\n      e.data &&\n      isNaN(e.target.value + e.data)\n    ) {\n      e.preventDefault();\n    }\n  }\n\n  dispatch(name, el, evt) {\n    el.dispatchEvent(event(name, (evt && evt.inputType) || null));\n  }\n}\n"]}]}