{"remainingRequest":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue","mtime":1651230815034},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/MyProjects/frontend-team-vue/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF90b0NvbnN1bWFibGVBcnJheSBmcm9tICIvVXNlcnMvYWRtaW4vRGVza3RvcC9NeVByb2plY3RzL2Zyb250ZW5kLXRlYW0tdnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKaW1wb3J0IHsgZGVmaW5lQXN5bmNDb21wb25lbnQsIHJlZiwgY29tcHV0ZWQsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC5kZWJvdW5jZSc7CmltcG9ydCB7IHVzZVN0b3JlIH0gZnJvbSAndnVleCc7CmltcG9ydCB1c2VSb3V0ZXJSZXBsYWNlIGZyb20gJ34vdXRpbHMvaG9va3MvdXNlUm91dGVyUmVwbGFjZSc7CmltcG9ydCB7IHVzZVJvdXRlIH0gZnJvbSAndnVlLXJvdXRlcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ29sbGVhZ3Vlc0ZpbHRlcnMnLAogIGNvbXBvbmVudHM6IHsKICAgIEF0U2tlbGV0b246IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnfi9wbHVnaW5zL2FsaWZ0ZWNoLXVpL2NvbXBvbmVudHMvQXRTa2VsZXRvbi9BdFNrZWxldG9uJyk7CiAgICB9KSwKICAgIEF0SW5wdXQ6IGRlZmluZUFzeW5jQ29tcG9uZW50KGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnfi9wbHVnaW5zL2FsaWZ0ZWNoLXVpL2NvbXBvbmVudHMvQXRJbnB1dC9BdElucHV0Jyk7CiAgICB9KSwKICAgIEF0U2VsZWN0OiBkZWZpbmVBc3luY0NvbXBvbmVudChmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJ34vcGx1Z2lucy9hbGlmdGVjaC11aS9jb21wb25lbnRzL0F0U2VsZWN0L0F0U2VsZWN0Jyk7CiAgICB9KQogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIHN0b3JlID0gdXNlU3RvcmUoKTsKICAgIHZhciByb3V0ZXJSZXBsYWNlID0gdXNlUm91dGVyUmVwbGFjZSgpOwogICAgdmFyIHJvdXRlID0gdXNlUm91dGUoKTsKICAgIHZhciBxdWVyeSA9IHJlZih7CiAgICAgIHBvc2l0aW9uX2lkOiBOdW1iZXIocm91dGUucXVlcnkucG9zaXRpb25faWQpIHx8IDAsCiAgICAgIHRlYW1faWQ6IE51bWJlcihyb3V0ZS5xdWVyeS50ZWFtX2lkKSB8fCAwLAogICAgICBzZWFyY2g6IHJvdXRlLnF1ZXJ5LnNlYXJjaCB8fCAnJywKICAgICAgc3RhdHVzOiBOdW1iZXIocm91dGUucXVlcnkuc3RhdHVzKSB8fCAwCiAgICB9KTsKICAgIHZhciBkZXBhcnRtZW50SWRRdWVyeSA9IHJlZih7CiAgICAgIGRlcGFydG1lbnRfaWQ6IE51bWJlcihyb3V0ZS5xdWVyeS5kZXBhcnRtZW50X2lkKSB8fCAwCiAgICB9KTsKCiAgICB2YXIgc2VsZWN0T3B0aW9ucyA9IGZ1bmN0aW9uIHNlbGVjdE9wdGlvbnMoZGVmYXVsdFRpdGxlLCBvcHRpb25zKSB7CiAgICAgIHJldHVybiBbewogICAgICAgIHRpdGxlOiBkZWZhdWx0VGl0bGUsCiAgICAgICAgdmFsdWU6ICcnCiAgICAgIH1dLmNvbmNhdChfdG9Db25zdW1hYmxlQXJyYXkob3B0aW9ucykpOwogICAgfTsKCiAgICB3YXRjaChxdWVyeS52YWx1ZSwgZGVib3VuY2UoZnVuY3Rpb24gKCkgewogICAgICByb3V0ZXJSZXBsYWNlLnNldFJvdXRlcihxdWVyeSwgewogICAgICAgIHBhZ2U6IHJvdXRlLnF1ZXJ5LnBhZ2UKICAgICAgfSk7CiAgICB9LCA1MDApKTsKICAgIHdhdGNoKGRlcGFydG1lbnRJZFF1ZXJ5LnZhbHVlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHJvdXRlclJlcGxhY2Uuc2V0Um91dGVyKGRlcGFydG1lbnRJZFF1ZXJ5LCB7CiAgICAgICAgcGFnZTogcm91dGUucXVlcnkucGFnZQogICAgICB9KTsKICAgICAgc3RvcmUuZGlzcGF0Y2goJ2NvcmUvZ2V0QXBwJywgZGVwYXJ0bWVudElkUXVlcnkudmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBxdWVyeTogcXVlcnksCiAgICAgIGRlcGFydG1lbnRJZFF1ZXJ5OiBkZXBhcnRtZW50SWRRdWVyeSwKICAgICAgc2VsZWN0T3B0aW9uczogc2VsZWN0T3B0aW9ucywKICAgICAgYXBwTG9hZGluZzogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydjb3JlL2FwcExvYWRpbmcnXTsKICAgICAgfSksCiAgICAgIHBvc2l0aW9uczogY29tcHV0ZWQoZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBzdG9yZS5nZXR0ZXJzWydjb3JlL3Bvc2l0aW9ucyddOwogICAgICB9KSwKICAgICAgZGVwYXJ0bWVudHM6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1snY29yZS9kZXBhcnRtZW50cyddOwogICAgICB9KSwKICAgICAgdGVhbXM6IGNvbXB1dGVkKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gc3RvcmUuZ2V0dGVyc1snY29yZS90ZWFtcyddOwogICAgICB9KQogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/admin/Desktop/MyProjects/frontend-team-vue/src/components/colleagues/ColleaguesFilters.vue"],"names":[],"mappings":";;;;;;;;AA2CE,SAAS,oBAAT,EAA+B,GAA/B,EAAoC,QAApC,EAA8C,KAA9C,QAA2D,KAA3D;AACA,OAAO,QAAP,MAAqB,iBAArB;AACA,SAAS,QAAT,QAAyB,MAAzB;AACA,OAAO,gBAAP,MAA6B,gCAA7B;AACA,SAAS,QAAT,QAAyB,YAAzB;AAEA,eAAe;AACb,EAAA,IAAI,EAAE,mBADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,UAAU,EAAE,oBAAoB,CAAC;AAAA,aAAM,OAAO,wDAAP,CAAN;AAAA,KAAD,CADtB;AAEV,IAAA,OAAO,EAAE,oBAAoB,CAAC;AAAA,aAAM,OAAO,kDAAP,CAAN;AAAA,KAAD,CAFnB;AAGV,IAAA,QAAQ,EAAE,oBAAoB,CAAC;AAAA,aAAM,OAAO,oDAAP,CAAN;AAAA,KAAD;AAHpB,GAFC;AAOb,EAAA,KAPa,mBAOL;AACN,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,aAAY,GAAI,gBAAgB,EAAtC;AACA,QAAM,KAAI,GAAI,QAAQ,EAAtB;AACA,QAAM,KAAI,GAAI,GAAG,CAAC;AAChB,MAAA,WAAW,EAAE,MAAM,CAAC,KAAK,CAAC,KAAN,CAAY,WAAb,CAAN,IAAmC,CADhC;AAEhB,MAAA,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,KAAN,CAAY,OAAb,CAAN,IAA+B,CAFxB;AAGhB,MAAA,MAAM,EAAE,KAAK,CAAC,KAAN,CAAY,MAAZ,IAAsB,EAHd;AAIhB,MAAA,MAAM,EAAE,MAAM,CAAC,KAAK,CAAC,KAAN,CAAY,MAAb,CAAN,IAA8B;AAJtB,KAAD,CAAjB;AAOA,QAAM,iBAAgB,GAAI,GAAG,CAAC;AAC5B,MAAA,aAAa,EAAE,MAAM,CAAC,KAAK,CAAC,KAAN,CAAY,aAAb,CAAN,IAAqC;AADxB,KAAD,CAA7B;;AAIA,QAAM,aAAY,GAAI,SAAhB,aAAgB,CAAC,YAAD,EAAe,OAAf,EAA2B;AAC/C,cAAQ;AAAE,QAAA,KAAK,EAAE,YAAT;AAAuB,QAAA,KAAK,EAAE;AAA9B,OAAR,4BAA+C,OAA/C;AACD,KAFD;;AAIA,IAAA,KAAK,CACH,KAAK,CAAC,KADH,EAEH,QAAQ,CAAC,YAAM;AACb,MAAA,aAAa,CAAC,SAAd,CAAwB,KAAxB,EAA+B;AAC7B,QAAA,IAAI,EAAE,KAAK,CAAC,KAAN,CAAY;AADW,OAA/B;AAGD,KAJO,EAIL,GAJK,CAFL,CAAL;AASA,IAAA,KAAK,CAAC,iBAAiB,CAAC,KAAnB,EAA0B,YAAM;AACnC,MAAA,aAAa,CAAC,SAAd,CAAwB,iBAAxB,EAA2C;AACzC,QAAA,IAAI,EAAE,KAAK,CAAC,KAAN,CAAY;AADuB,OAA3C;AAGA,MAAA,KAAK,CAAC,QAAN,CAAe,aAAf,EAA8B,iBAAiB,CAAC,KAAhD;AACD,KALI,CAAL;AAOA,WAAO;AACL,MAAA,KAAK,EAAL,KADK;AAEL,MAAA,iBAAiB,EAAjB,iBAFK;AAGL,MAAA,aAAa,EAAb,aAHK;AAIL,MAAA,UAAU,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,OAAN,CAAc,iBAAd,CAAN;AAAA,OAAD,CAJf;AAKL,MAAA,SAAS,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,OAAN,CAAc,gBAAd,CAAN;AAAA,OAAD,CALd;AAML,MAAA,WAAW,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,OAAN,CAAc,kBAAd,CAAN;AAAA,OAAD,CANhB;AAOL,MAAA,KAAK,EAAE,QAAQ,CAAC;AAAA,eAAM,KAAK,CAAC,OAAN,CAAc,YAAd,CAAN;AAAA,OAAD;AAPV,KAAP;AASD;AAnDY,CAAf","sourcesContent":["<template>\n  <div v-if=\"!appLoading\" class=\"grid grid-cols-1 gap-4 sm:grid-cols-3 mb-4\">\n    <div v-if=\"!appLoading\" class=\"col-span-1 sm:col-span-3 gap-4 grid grid-cols-4\">\n      <at-input placeholder=\"Поиск по ФИО\" iconAfter=\"search\" class=\"md:col-span-2 col-span-4\" v-model=\"query.search\" />\n      <AtSelect\n        placeholder=\"Выберите статус активности\"\n        class=\"md:-mt-1 md:col-span-2 col-span-4\"\n        :options=\"[\n          {\n            title: 'Все',\n            value: 0,\n          },\n          {\n            title: 'В офисе',\n            value: 1,\n          },\n          {\n            title: 'Не в офисе',\n            value: 8,\n          },\n          {\n            title: 'Работает удалённо',\n            value: 6,\n          },\n        ]\"\n        v-model=\"query.status\"\n      ></AtSelect>\n    </div>\n    <at-select :options=\"selectOptions('Все позиции', positions)\" v-model=\"query.position_id\"> </at-select>\n    <at-select\n      :options=\"selectOptions('Все отделы', departments)\"\n      v-model=\"departmentIdQuery.department_id\"\n    ></at-select>\n    <at-select :options=\"selectOptions('Все команды', teams)\" v-model=\"query.team_id\"> </at-select>\n  </div>\n  <div class=\"mt-4 py-2\" v-else>\n    <div class=\"p-4\" v-for=\"i in 3\" :key=\"i\">\n      <at-skeleton type=\"row\"></at-skeleton>\n    </div>\n  </div>\n</template>\n\n<script>\n  import { defineAsyncComponent, ref, computed, watch } from 'vue';\n  import debounce from 'lodash.debounce';\n  import { useStore } from 'vuex';\n  import useRouterReplace from '~/utils/hooks/useRouterReplace';\n  import { useRoute } from 'vue-router';\n\n  export default {\n    name: 'ColleaguesFilters',\n    components: {\n      AtSkeleton: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSkeleton/AtSkeleton')),\n      AtInput: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtInput/AtInput')),\n      AtSelect: defineAsyncComponent(() => import('~/plugins/aliftech-ui/components/AtSelect/AtSelect')),\n    },\n    setup() {\n      const store = useStore();\n      const routerReplace = useRouterReplace();\n      const route = useRoute();\n      const query = ref({\n        position_id: Number(route.query.position_id) || 0,\n        team_id: Number(route.query.team_id) || 0,\n        search: route.query.search || '',\n        status: Number(route.query.status) || 0,\n      });\n\n      const departmentIdQuery = ref({\n        department_id: Number(route.query.department_id) || 0,\n      });\n\n      const selectOptions = (defaultTitle, options) => {\n        return [{ title: defaultTitle, value: '' }, ...options];\n      };\n\n      watch(\n        query.value,\n        debounce(() => {\n          routerReplace.setRouter(query, {\n            page: route.query.page,\n          });\n        }, 500)\n      );\n\n      watch(departmentIdQuery.value, () => {\n        routerReplace.setRouter(departmentIdQuery, {\n          page: route.query.page,\n        });\n        store.dispatch('core/getApp', departmentIdQuery.value);\n      });\n\n      return {\n        query,\n        departmentIdQuery,\n        selectOptions,\n        appLoading: computed(() => store.getters['core/appLoading']),\n        positions: computed(() => store.getters['core/positions']),\n        departments: computed(() => store.getters['core/departments']),\n        teams: computed(() => store.getters['core/teams']),\n      };\n    },\n  };\n</script>\n\n<style scoped></style>\n"],"sourceRoot":""}]}